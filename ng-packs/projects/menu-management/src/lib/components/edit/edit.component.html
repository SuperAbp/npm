<!--
 * @Author: your name
 * @Date: 2020-09-03 17:52:49
 * @LastEditTime: 2020-12-16 11:24:55
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \abp\projects\menu-management\src\lib\components\edit\edit.component.html
-->
<div class="modal-header">
  <div class="modal-title" *ngIf="form && !menuId">
    {{ "SnowMenuManagement::NewMenu" | abpLocalization }}
  </div>
  <div class="modal-title" *ngIf="form && menuId">
    {{ "SnowMenuManagement::Edit" | abpLocalization }}
  </div>
</div>
<div class="modal-body">
  <ng-template #loaderRef>
    <nz-spin class="modal-spin"></nz-spin>
  </ng-template>
  <form
    *ngIf="form; else loaderRef"
    nz-form
    (ngSubmit)="save()"
    [formGroup]="form"
  >
    <nz-form-item>
      <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>{{
        "SnowMenuManagement::DisplayName:Name" | abpLocalization
      }}</nz-form-label>
      <nz-form-control
        [nzSm]="14"
        [nzXs]="24"
        nzHasFeedback
        [nzValidatingTip]="'SnowMenuManagement::Validating' | abpLocalization"
        [nzErrorTip]="nameErrorTpl"
      >
        <input
          formControlName="name"
          nz-input
          [placeholder]="
            'SnowMenuManagement::PlaceHolder'
              | abpLocalization
                : ('SnowMenuManagement::DisplayName:Name' | abpLocalization)
          "
        />
        <ng-template #nameErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">
            {{ "SnowMenuManagement::ThisFieldIsRequired." | abpLocalization }}
          </ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSm]="6" [nzXs]="24">{{
        "SnowMenuManagement::DisplayName:Parent" | abpLocalization
      }}</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24" nzHasFeedback>
        <nz-tree-select
          nzAllowClear
          formControlName="parentId"
          [nzPlaceHolder]="
            'SnowMenuManagement::PlaceHolder'
              | abpLocalization
                : ('SnowMenuManagement::DisplayName:Parent' | abpLocalization)
          "
          [nzDropdownMatchSelectWidth]="false"
          [nzDropdownStyle]="{ 'max-height': '300px' }"
          [nzNodes]="menus"
        >
        </nz-tree-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSm]="6" [nzXs]="24">{{
        "SnowMenuManagement::DisplayName:Permission" | abpLocalization
      }}</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24">
        <input
          formControlName="permission"
          nz-input
          [placeholder]="
            'SnowMenuManagement::PlaceHolder'
              | abpLocalization
                : ('SnowMenuManagement::DisplayName:Permission'
                    | abpLocalization)
          "
        />
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSm]="6" [nzXs]="24">{{
        "SnowMenuManagement::DisplayName:Icon" | abpLocalization
      }}</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24">
        <input
          formControlName="icon"
          nz-input
          [placeholder]="
            'SnowMenuManagement::PlaceHolder'
              | abpLocalization
                : ('SnowMenuManagement::DisplayName:Icon' | abpLocalization)
          "
        />
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSm]="6" [nzXs]="24">{{
        "SnowMenuManagement::DisplayName:Route" | abpLocalization
      }}</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24">
        <input
          formControlName="route"
          nz-input
          [placeholder]="
            'SnowMenuManagement::PlaceHolder'
              | abpLocalization
                : ('SnowMenuManagement::DisplayName:Route' | abpLocalization)
          "
        />
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSm]="6" [nzXs]="24">{{
        "SnowMenuManagement::DisplayName:Sort" | abpLocalization
      }}</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24">
        <nz-input-number
          formControlName="sort"
          [nzMin]="0"
          [nzPlaceHolder]="
            'SnowMenuManagement::PlaceHolder'
              | abpLocalization
                : ('SnowMenuManagement::DisplayName:Sort' | abpLocalization)
          "
        ></nz-input-number>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control [nzSpan]="14" [nzOffset]="6">
        <label nz-checkbox formControlName="group">{{
          "SnowMenuManagement::DisplayName:Group" | abpLocalization
        }}</label>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control [nzSpan]="14" [nzOffset]="6">
        <label nz-checkbox formControlName="hideInBreadcrumb">{{
          "SnowMenuManagement::DisplayName:HideInBreadcrumb" | abpLocalization
        }}</label>
      </nz-form-control>
    </nz-form-item>
  </form>
</div>
<div class="modal-footer">
  <button
    nz-button
    nzType="primary"
    *ngIf="form"
    [disabled]="!form.valid"
    [nzLoading]="isConfirmLoading"
    (click)="save()"
  >
    {{ "SnowMenuManagement::Submit" | abpLocalization }}
  </button>
</div>
